apiVersion: gateway.networking.k8s.io/v1
kind: Gateway
metadata:
  name: ($gateway_name_wildcard_listener)
  namespace: ($namespace)
spec:
  gatewayClassName: (join('-', [($test_name), 'gateway-class']))
  listeners:
  - name: http
    protocol: HTTP
    port: ($listener_http_port)
    hostname: ($listener_http_hostname_wildcard)
  - name: https
    protocol: HTTPS
    port: ($listener_https_port)
    hostname: ($listener_https_hostname_wildcard)
    tls:
      mode: Terminate
      certificateRefs:
      - name: ($cert_secret_name_wildcard)
        namespace: ($namespace)
