apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: httproute-cross-namespace-no-grant
  namespace: ($namespace)
status:
  parents:
    - parentRef:
        name: ($gateway_name)
        namespace: ($gateway_namespace)
      (conditions[?type == 'ResolvedRefs'] | [0]):
        type: ResolvedRefs
        status: "False"
        reason: RefNotPermitted
        message: (join('', ['No ReferenceGrants found in namespace ', ($xns_namespace), ' for BackendRef ', ($xns_namespace), '/', ($xns_echo_deployment_name)]))
